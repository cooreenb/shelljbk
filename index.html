<!DOCTYPE html>
<html lang="zh-CN" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shell脚本命令库</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link href="./css/font-awesome.min.css" rel="stylesheet">
    <link href="./iconfont/iconfont.css" rel="stylesheet">
    <!-- 引入Prism.js用于代码高亮 -->
    <link href="./css/prism-tomorrow.min.css" rel="stylesheet">
    <script src="./js/prism.min.js"></script>
    <script src="./js/prism-bash.min.js"></script>
    
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#8B5CF6',
                        dark: {
                            100: '#E5E7EB',
                            200: '#9CA3AF',
                            300: '#6B7280',
                            400: '#4B5563',
                            500: '#374151',
                            600: '#1F2937',
                            700: '#111827',
                            800: '#0F172A',
                            900: '#030712'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter-Local', 'SF Pro Display', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'system-ui', 'sans-serif'],
                        mono: ['FiraCode-Local', 'SF Mono', 'Monaco', 'Cascadia Code', 'JetBrains Mono', 'Consolas', 'Courier New', 'monospace']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.2s ease-in-out',
                        'slide-up': 'slideUp 0.15s ease-out',
                        'bounce-gentle': 'bounceGentle 1s infinite',
                        'glow': 'glow 1s ease-in-out infinite alternate'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        bounceGentle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' }
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 5px rgba(59, 130, 246, 0.5)' },
                            '100%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.8)' }
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-balance {
                text-wrap: balance;
            }
            .transition-theme {
                transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            }
            .glass-effect {
                 backdrop-filter: blur(20px);
                 background: rgba(255, 255, 255, 0.7);
                 border: 1px solid rgba(59, 130, 246, 0.15);
             }
             .dark .glass-effect {
                 background: rgba(0, 0, 0, 0.2);
                 border: 1px solid rgba(255, 255, 255, 0.1);
             }
        }
    </style>
    
    <style>
        /* 本地化字体定义 */
        @font-face {
            font-family: 'Inter-Local';
            src: local('Inter'), local('SF Pro Display'), local('Segoe UI'), local('Roboto'), local('Helvetica Neue'), local('Arial');
            font-weight: 100 900;
            font-display: swap;
        }
        
        @font-face {
            font-family: 'FiraCode-Local';
            src: local('Fira Code'), local('SF Mono'), local('Monaco'), local('Cascadia Code'), local('JetBrains Mono'), local('Consolas'), local('Courier New');
            font-weight: 400 600;
            font-display: swap;
        }
        
        /* 平滑滚动 */
        html {
            scroll-behavior: smooth;
        }
        
        /* 全局背景渐变 */
        body {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 25%, #e0f2fe 75%, #bfdbfe 100%);
            min-height: 100vh;
        }
        
        .dark body {
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
        }
        
        /* 暗色主题下的移动端菜单 */
        .dark #mobile-menu {
            background: rgba(31, 41, 55, 0.95) !important;
            border: 1px solid rgba(75, 85, 99, 0.3) !important;
        }
        
        /* Mac风格代码块 */
        .mac-terminal {
            background: linear-gradient(145deg, #2d3748, #1a202c);
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .mac-header {
            background: linear-gradient(90deg, #4a5568, #2d3748);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .mac-buttons {
            display: flex;
            gap: 8px;
        }
        
        .mac-button {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            transition: all 0.1s ease;
        }
        
        .mac-button:hover {
            transform: scale(1.1);
        }
        
        .mac-button.red {
            background: linear-gradient(135deg, #ff5f57, #ff3b30);
        }
        
        .mac-button.yellow {
            background: linear-gradient(135deg, #ffbd2e, #ff9500);
        }
        
        .mac-button.green {
            background: linear-gradient(135deg, #28ca42, #30d158);
        }
        
        .mac-title {
            flex: 1;
            text-align: center;
            color: #a0aec0;
            font-size: 13px;
            font-weight: 500;
        }
        
        .mac-content {
            padding: 20px;
            background: #1a202c;
            font-family: 'Fira Code', monospace;
        }
        
        .mac-content pre {
            margin: 0;
            background: transparent !important;
            padding: 0 !important;
            border-radius: 0 !important;
        }
        
        .mac-content code {
            color: #e2e8f0 !important;
            font-size: 14px;
            line-height: 1.6;
        }
        
        /* 代码高亮基础样式 - 防止重影 */
        .mac-content code {
            text-shadow: none !important;
            background: transparent !important;
        }
        
        .mac-content .token {
            background: transparent !important;
            text-shadow: none !important;
            box-shadow: none !important;
        }
        
        /* 亮色主题代码高亮颜色 - 优化对比度 */
        .light .mac-content code {
            color: #e2e8f0 !important;
        }
        
        .light .mac-content .token.comment {
            color: #94a3b8 !important;
            font-style: italic;
        }
        
        .light .mac-content .token.keyword,
        .light .mac-content .token.builtin {
            color: #60a5fa !important;
            font-weight: 600;
        }
        
        .light .mac-content .token.string {
            color: #34d399 !important;
        }
        
        .light .mac-content .token.number {
            color: #fbbf24 !important;
        }
        
        .light .mac-content .token.operator {
            color: #f87171 !important;
        }
        
        .light .mac-content .token.function {
            color: #a78bfa !important;
            font-weight: 500;
        }
        
        .light .mac-content .token.variable {
            color: #fb923c !important;
        }
        
        .light .mac-content .token.punctuation {
            color: #e2e8f0 !important;
        }
        
        /* 暗色主题代码高亮颜色 */
        .dark .mac-content code {
            color: #e2e8f0 !important;
        }
        
        .dark .mac-content .token.comment {
            color: #8b949e !important;
            font-style: italic;
        }
        
        .dark .mac-content .token.keyword,
        .dark .mac-content .token.builtin {
            color: #79c0ff !important;
            font-weight: 600;
        }
        
        .dark .mac-content .token.string {
            color: #a5d6ff !important;
        }
        
        .dark .mac-content .token.number {
            color: #79c0ff !important;
        }
        
        .dark .mac-content .token.operator {
            color: #ff7b72 !important;
        }
        
        .dark .mac-content .token.function {
            color: #d2a8ff !important;
            font-weight: 500;
        }
        
        .dark .mac-content .token.variable {
            color: #ffa657 !important;
        }
        
        .dark .mac-content .token.punctuation {
            color: #e2e8f0 !important;
        }
        
        /* 修复移动端代码高亮问题 */
        @media (max-width: 768px) {
            .mac-content {
                padding: 15px;
                font-size: 13px;
                line-height: 1.8;
            }
            .mac-content code {
                font-size: 13px !important;
                line-height: 1.8 !important;
                letter-spacing: 0.3px;
                word-spacing: 2px;
                text-shadow: none !important;
                background: transparent !important;
            }
            .mac-content pre {
                white-space: pre-wrap;
                word-break: break-word;
                overflow-x: auto;
            }
            .mac-content * {
                background: transparent !important;
                text-shadow: none !important;
                box-shadow: none !important;
            }
            /* 优化各类代码元素的颜色对比度 */
            .mac-content .token.comment {
                color: #8b949e !important;
                font-style: italic;
            }
            .mac-content .token.keyword, 
            .mac-content .token.builtin {
                color: #79c0ff !important;
                font-weight: 600;
            }
            .mac-content .token.string {
                color: #a5d6ff !important;
            }
            .mac-content .token.number {
                color: #79c0ff !important;
            }
            .mac-content .token.operator {
                color: #ff7b72 !important;
            }
            .mac-content .token.function {
                color: #d2a8ff !important;
                font-weight: 500;
            }
            .mac-content .token.variable {
                color: #ffa657 !important;
            }
            /* 确保所有高亮元素背景透明，移除阴影 */
            .hljs-keyword, .hljs-built_in, .hljs-type,
            .hljs-string, .hljs-number, .hljs-comment,
            .hljs-operator, .hljs-function, .hljs-variable,
            .token {
                background: transparent !important;
                text-shadow: none !important;
                box-shadow: none !important;
            }
        }
        
        /* 移除卡片悬停效果 */
        .script-card {
            transition: box-shadow 0.15s ease, border-color 0.15s ease;
        }
        
        /* Web 4.0 风格卡片 */
        .neo-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(59, 130, 246, 0.08);
        }
        
        .dark .neo-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        /* 移动端菜单动画 */
        .mobile-menu {
            transform: translateY(-10px);
            opacity: 0;
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .mobile-menu.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        /* 渐变文字 */
        .gradient-text {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 50%, #1d4ed8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .dark .gradient-text {
            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
    </style>
</head>
<body class="text-gray-800 dark:text-gray-100 transition-theme">
    <!-- 导航栏 -->
    <header class="sticky top-0 z-50 transition-all duration-300 px-4 py-4">
        <div class="container mx-auto">
            <div class="neo-card glass-effect rounded-2xl px-6 py-4 shadow-lg">
            <div class="flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg">
                    <i class="fa fa-terminal text-white text-lg"></i>
                </div>
                <h1 class="text-xl font-bold gradient-text">Shell脚本库</h1>
            </div>
            
            <div class="flex items-center space-x-4">
                <!-- 桌面端导航菜单 -->
                <nav class="hidden md:flex items-center space-x-2">
                    <a href="#" class="items-center space-x-2 px-4 py-2 rounded-xl hover:bg-blue-50 dark:hover:bg-white/10 transition-all duration-100 text-sm font-medium">
                        <i class="fa fa-home text-primary"></i>
                        <span>首页</span>
                    </a>
                    <a href="#" class="items-center space-x-2 px-4 py-2 rounded-xl hover:bg-blue-50 dark:hover:bg-white/10 transition-all duration-100 text-sm font-medium">
                         <i class="fa fa-book text-secondary"></i>
                         <span>文档</span>
                     </a>
                     <a href="#" class="items-center space-x-2 px-4 py-2 rounded-xl hover:bg-blue-50 dark:hover:bg-white/10 transition-all duration-100 text-sm font-medium">
                         <i class="fa fa-download text-accent"></i>
                         <span>下载</span>
                     </a>
                     <a href="#" class="items-center space-x-2 px-4 py-2 rounded-xl hover:bg-blue-50 dark:hover:bg-white/10 transition-all duration-100 text-sm font-medium">
                         <i class="fa fa-question-circle text-orange-500"></i>
                         <span>帮助</span>
                     </a>
                </nav>
                
                <!-- 主题切换按钮 -->
                <button id="theme-toggle" class="flex items-center justify-center w-12 h-12 rounded-xl bg-white/60 dark:bg-white/10 hover:bg-blue-50 dark:hover:bg-white/20 transition-all duration-100 shadow-lg">
                    <i class="fa fa-sun-o dark:hidden text-yellow-500 text-lg"></i>
                    <i class="fa fa-moon-o hidden dark:block text-blue-300 text-lg"></i>
                </button>
                
                <!-- 移动端菜单按钮 -->
                <button id="mobile-menu-toggle" class="md:hidden flex items-center justify-center w-12 h-12 rounded-xl bg-white/60 dark:bg-white/10 hover:bg-blue-50 dark:hover:bg-white/20 transition-all duration-100 shadow-lg">
                    <i class="fa fa-bars text-lg"></i>
                </button>
            </div>
            </div>
            </div>
        </div>
        
        <!-- 移动端下拉菜单 -->
        <div id="mobile-menu" class="md:hidden mobile-menu absolute top-full left-0 right-0 mx-4 mt-2 rounded-2xl shadow-xl overflow-hidden" style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(59, 130, 246, 0.2);">
            <div class="p-4 space-y-2">
                <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-blue-50 dark:hover:bg-white/10 transition-all duration-100">
                    <i class="fa fa-home text-primary"></i>
                    <span class="font-medium">首页</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-blue-50 dark:hover:bg-white/10 transition-all duration-100">
                     <i class="fa fa-book text-secondary"></i>
                     <span class="font-medium">文档</span>
                 </a>
                 <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-blue-50 dark:hover:bg-white/10 transition-all duration-100">
                     <i class="fa fa-download text-accent"></i>
                     <span class="font-medium">下载</span>
                 </a>
                 <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-blue-50 dark:hover:bg-white/10 transition-all duration-100">
                     <i class="fa fa-question-circle text-orange-500"></i>
                     <span class="font-medium">帮助</span>
                 </a>
            </div>
        </div>
    </header>

    <!-- 主要内容区 -->
    <main class="container mx-auto px-4 py-12">
        <!-- 页面标题 -->
        <section class="text-center mb-16 animate-fade-in">
            <div class="inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-primary via-accent to-secondary shadow-2xl mb-8 animate-bounce-gentle">
                <i class="fa fa-terminal text-white text-2xl"></i>
            </div>
            <h2 class="text-[clamp(2rem,6vw,4rem)] font-bold mb-6 gradient-text leading-tight">
                实用Shell脚本集合
            </h2>
            <p class="text-lg text-gray-700 dark:text-gray-300 max-w-3xl mx-auto text-balance leading-relaxed">
                精选常用的Shell脚本命令，帮助您提高工作效率，简化日常任务。每个脚本都包含详细说明和使用示例，采用现代化的Mac风格代码展示。
            </p>
            <div class="mt-8 flex justify-center">
                <div class="flex items-center space-x-3 px-6 py-3 neo-card">
                    <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-sm font-semibold">共 6 个精选脚本</span>
                </div>
            </div>
        </section>
        
        <!-- 搜索和过滤 -->
        <section class="mb-12 animate-slide-up">
            <div class="max-w-2xl mx-auto">
                <div class="relative">
                    <input 
                        type="text" 
                        id="search-input"
                        placeholder="搜索脚本..." 
                        class="w-full px-6 py-4 pl-14 rounded-2xl neo-card text-lg focus:outline-none focus:ring-4 focus:ring-primary/30 transition-all duration-150"
                    >
                    <i class="fa fa-search absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 text-lg"></i>
                </div>
            </div>
        </section>
        
        <!-- 脚本列表 -->
        <section id="scripts-container" class="grid grid-cols-1 gap-8">
            <!-- 脚本卡片将通过JavaScript动态加载 -->
            <div class="col-span-full text-center py-20">
                <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent mb-6 animate-glow">
                    <i class="fa fa-circle-o-notch fa-spin text-white text-2xl"></i>
                </div>
                <p class="text-xl text-gray-600 dark:text-gray-400 font-medium">正在加载精彩内容...</p>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="mx-4 mb-8 transition-theme">
        <div class="container mx-auto">
            <div class="neo-card rounded-2xl px-8 py-12">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <!-- 左侧信息 -->
                <div class="text-center md:text-left mb-8 md:mb-0">
                    <div class="flex items-center justify-center md:justify-start space-x-3 mb-4">
                        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center">
                            <i class="fa fa-terminal text-white"></i>
                        </div>
                        <span class="text-xl font-bold gradient-text">Shell脚本库</span>
                    </div>
                    <p class="text-gray-600 dark:text-gray-400 mb-2 font-medium">
                        &copy; 2024 Shell脚本库 | 用代码简化工作
                    </p>
                    <p class="text-gray-500 dark:text-gray-500 text-sm">
                        精选实用Shell脚本，提升开发效率，拥抱自动化未来
                    </p>
                </div>
                
                <!-- 右侧链接图标 -->
                <div class="flex items-center space-x-4">
                    <a href="https://github.com" target="_blank" class="group w-14 h-14 flex items-center justify-center rounded-2xl bg-gradient-to-br from-black to-white-500 hover:from-gray-700 hover:to-gray-900 transition-all duration-150 shadow-lg hover:shadow-2xl hover:scale-110">
                         <i class="iconcr cr-github-fill text-white text-xl group-hover:scale-110 transition-transform"></i>
                     </a>
                     <a href="mailto:contact@example.com" class="group w-14 h-14 flex items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-white-500 hover:from-blue-400 hover:to-blue-500 transition-all duration-150 shadow-lg hover:shadow-2xl hover:scale-110">
                         <i class="iconcr cr-QQ text-white text-xl group-hover:scale-110 transition-transform"></i>
                     </a>
                     <a href="#" class="group w-14 h-14 flex items-center justify-center rounded-2xl bg-gradient-to-br from-pink-500 to-white-500 hover:from-orange-400 hover:to-red-400 transition-all duration-150 shadow-lg hover:shadow-2xl hover:scale-110">
                         <i class="iconcr cr-bilibili-line text-white text-xl group-hover:scale-110 transition-transform"></i>
                     </a>
                     <a href="#" class="group w-14 h-14 flex items-center justify-center rounded-2xl bg-gradient-to-br from-red-500 to-white-500 hover:from-white-300 hover:to-red-400 transition-all duration-150 shadow-lg hover:shadow-2xl hover:scale-110">
                         <i class="iconcr cr-weibo text-white text-xl group-hover:scale-110 transition-transform"></i>
                     </a>
                </div>
            </div>
            
            <!-- 底部分割线和额外信息 -->
            <div class="mt-12 border-t border-white/20 dark:border-white/10">
                <div class="flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
                    <div class="flex items-center space-x-6 text-sm text-gray-500 dark:text-gray-400">
                        <span class=" items-center space-x-2">
                            <i class="fa fa-heart text-red-500"></i>
                            <span>Made with Love</span>
                        </span>
                        <span>•</span>
                        <span>Version 2.0</span>
                        <span>•</span>
                        <span>Web 4.0 Design</span>
                    </div>
                    <div class="flex items-center space-x-6 text-sm">
                        <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">隐私政策</a>
                        <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">使用条款</a>
                        <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">联系我们</a>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </footer>

    <script>
        // 主题切换功能
        const themeToggle = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;
        
        // 检查本地存储中的主题偏好
        if (localStorage.getItem('theme') === 'dark' || 
            (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            htmlElement.classList.add('dark');
        } else {
            htmlElement.classList.remove('dark');
        }
        
        // 切换主题
        themeToggle.addEventListener('click', () => {
            htmlElement.classList.toggle('dark');
            
            // 保存主题偏好到本地存储
            if (htmlElement.classList.contains('dark')) {
                localStorage.setItem('theme', 'dark');
            } else {
                localStorage.setItem('theme', 'light');
            }
            
            // 更新代码高亮主题
            updateCodeHighlightTheme();
        });
        
        // 移动端菜单切换
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            mobileMenu.classList.toggle('show');
        });
        
        // 点击外部关闭移动端菜单
        document.addEventListener('click', (e) => {
            if (!mobileMenu.contains(e.target) && !mobileMenuToggle.contains(e.target)) {
                mobileMenu.classList.remove('show');
            }
        });
        
        // 更新代码高亮主题
        function updateCodeHighlightTheme() {
            // 完全清理所有代码块的样式和内容
            document.querySelectorAll('pre code').forEach(block => {
                // 保存原始文本内容
                const originalText = block.textContent || block.innerText;
                
                // 完全清空HTML内容
                block.innerHTML = '';
                
                // 移除所有CSS类
                block.className = 'language-bash';
                
                // 移除所有内联样式
                block.removeAttribute('style');
                
                // 重新设置纯文本内容
                block.textContent = originalText;
                
                // 移除可能的重影样式
                block.style.textShadow = 'none';
                block.style.background = 'transparent';
            });
            
            // 重新应用语法高亮
            setTimeout(() => {
                document.querySelectorAll('pre code').forEach(block => {
                    // 确保清理任何残留样式
                    block.style.textShadow = 'none';
                    block.style.background = 'transparent';
                    
                    // 重新应用语法高亮
                    Prism.highlightElement(block);
                    
                    // 再次确保没有重影效果
                    setTimeout(() => {
                        const tokens = block.querySelectorAll('.token');
                        tokens.forEach(token => {
                            token.style.textShadow = 'none';
                            token.style.background = 'transparent';
                            token.style.boxShadow = 'none';
                        });
                    }, 50);
                });
            }, 50);
        }
        
        // 脚本数据（直接嵌入，无需外部文件）
        const scriptsData = [
            {
                "id": 1,
                "title": "系统信息查看",
                "description": "显示当前系统的详细信息，包括内核版本、CPU、内存和磁盘使用情况。",
                "content": "#!/bin/bash\n\n# 显示系统信息\nclear\n echo \"==================== 系统信息 ====================\"\n echo -n \"主机名: \"\n hostname\n echo -n \"系统版本: \"\n cat /etc/issue | head -n 1\n echo -n \"内核版本: \"\n uname -r\n echo -n \"当前时间: \"\n date\n\n echo \"\n==================== CPU 信息 ====================\"\n grep 'model name' /proc/cpuinfo | cut -d: -f2 | sed -e 's/^ *//' | uniq\n echo -n \"CPU 核心数: \"\n grep -c '^processor' /proc/cpuinfo\n\n echo \"\n==================== 内存信息 ====================\"\n free -h\n\n echo \"\n==================== 磁盘信息 ====================\"\n df -h\n echo \"===================================================\""
            },
            {
                "id": 2,
                "title": "日志文件分析",
                "description": "分析Nginx访问日志，统计访问量最高的IP地址和请求路径。",
                "content": "#!/bin/bash\n\n# 分析Nginx访问日志\nLOG_FILE=/var/log/nginx/access.log\n\nif [ ! -f $LOG_FILE ]; then\n    echo \"错误: 日志文件 $LOG_FILE 不存在\"\n    exit 1\nfi\n\necho \"===== 访问量最高的10个IP地址 =====\"\nawk '{print $1}' $LOG_FILE | sort | uniq -c | sort -nr | head -n 10\n\n echo \"\n===== 访问量最高的10个请求路径 =====\"\nawk '{print $7}' $LOG_FILE | sort | uniq -c | sort -nr | head -n 10\n\n echo \"\n===== 状态码统计 =====\"\nawk '{print $9}' $LOG_FILE | sort | uniq -c | sort -nr\n\n echo \"\n===== 今日访问总量 =====\"\ntoday=$(date +%d/%b/%Y)\nawk -v date=\"$today\" '$4 ~ date' $LOG_FILE | wc -l"
            },
            {
                "id": 3,
                "title": "文件备份脚本",
                "description": "自动备份指定目录到压缩文件，并保留最近7天的备份。",
                "content": "#!/bin/bash\n\n# 备份脚本 - 保留最近7天的备份\n\n# 配置参数\nSOURCE_DIR=\"/home/user/documents\"\nBACKUP_DIR=\"/backup/documents\"\nRETENTION_DAYS=7\n\n# 创建备份目录（如果不存在）\nmkdir -p $BACKUP_DIR\n\n# 生成备份文件名（包含日期）\nTIMESTAMP=$(date +\"%Y%m%d_%H%M%S\")\nBACKUP_FILENAME=\"backup_$TIMESTAMP.tar.gz\"\n\n# 执行备份\n echo \"开始备份 $SOURCE_DIR 到 $BACKUP_DIR/$BACKUP_FILENAME\"\n tar -czf $BACKUP_DIR/$BACKUP_FILENAME $SOURCE_DIR\n\nif [ $? -eq 0 ]; then\n    echo \"备份成功完成\"\nelse\n    echo \"备份失败\"\n    exit 1\nfi\n\n# 删除超过保留天数的备份\n echo \"清理 $RETENTION_DAYS 天前的备份...\"\nfind $BACKUP_DIR -name \"backup_*.tar.gz\" -type f -mtime +$RETENTION_DAYS -delete\n\n echo \"备份任务已完成\"\n"
            },
            {
                "id": 4,
                "title": "服务监控脚本",
                "description": "监控指定服务是否运行，如未运行则自动重启并发送通知。",
                "content": "#!/bin/bash\n\n# 服务监控脚本\nSERVICE_NAME=\"nginx\"\nEMAIL=\"admin@example.com\"\n\n# 检查服务状态\ncheck_service() {\n    if systemctl is-active --quiet $SERVICE_NAME; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# 发送通知邮件\nsend_alert() {\n    SUBJECT=\"[$(hostname)] $SERVICE_NAME 服务已重启\"\n    BODY=\"$SERVICE_NAME 服务在 $(date) 被发现未运行，已自动重启。\"\n    echo \"$BODY\" | mail -s \"$SUBJECT\" $EMAIL\n}\n\n# 主逻辑\nif ! check_service; then\n    echo \"$SERVICE_NAME 服务未运行，尝试重启...\"\n    systemctl start $SERVICE_NAME\n    sleep 5\n    \n    if check_service; then\n        echo \"$SERVICE_NAME 服务已成功重启\"\n        send_alert\n    else\n        echo \"错误: 无法启动 $SERVICE_NAME 服务\"\n        SUBJECT=\"[$(hostname)] $SERVICE_NAME 服务启动失败\"\n        echo \"$SERVICE_NAME 服务启动失败，请手动检查。\" | mail -s \"$SUBJECT\" $EMAIL\n        exit 1\n    fi\nelse\n    echo \"$SERVICE_NAME 服务运行正常\"\nfi"
            },
            {
                "id": 5,
                "title": "批量文件处理",
                "description": "批量重命名指定目录下的文件，按规则添加前缀和修改扩展名。",
                "content": "#!/bin/bash\n\n# 批量文件处理脚本\n\n# 检查参数\nif [ $# -ne 3 ]; then\n    echo \"用法: $0 <目录> <前缀> <新扩展名>\"\n    echo \"示例: $0 ./photos vacation_ jpg\"\n    exit 1\nfi\n\nDIR=$1\nPREFIX=$2\nEXTENSION=$3\nCOUNTER=1\n\n# 检查目录是否存在\nif [ ! -d \"$DIR\" ]; then\n    echo \"错误: 目录 $DIR 不存在\"\n    exit 1\nfi\n\n# 切换到目标目录\ncd \"$DIR\"\n\n# 批量处理文件（排除脚本本身和目录）\nfor FILE in *; do\n    if [ -f \"$FILE\" ] && [ \"$FILE\" != \"$(basename $0)\" ]; then\n        # 获取原始文件名（不含扩展名）\n        FILENAME=$(basename \"$FILE\" | cut -d. -f1)\n        \n        # 构建新文件名\n        NEW_FILENAME=\"${PREFIX}${COUNTER}_${FILENAME}.${EXTENSION}\"\n        \n        # 重命名文件\n        mv \"$FILE\" \"$NEW_FILENAME\"\n        echo \"已重命名: $FILE -> $NEW_FILENAME\"\n        \n        # 递增计数器\n        COUNTER=$((COUNTER + 1))\n    fi\ndone\n\necho \"批量处理完成，共处理 $((COUNTER - 1)) 个文件\"\n"
            },
            {
                "id": 6,
                "title": "网络检测工具",
                "description": "检测网络连接状态，包括DNS解析、端口连通性和带宽测试。",
                "content": "#!/bin/bash\n\n# 网络检测工具\nTARGET_HOST=\"google.com\"\nTARGET_PORT=80\n\n# 显示标题\n echo \"==================== 网络检测工具 ====================\"\n\n# 检查DNS解析\n echo \"\n1. 测试DNS解析...\"\nif nslookup $TARGET_HOST > /dev/null 2>&1; then\n    echo \"DNS解析成功: $(nslookup $TARGET_HOST | grep 'Address' | tail -n 1 | awk '{print $2}')\"\nelse\n    echo \"DNS解析失败\"\nfi\n\n# 检查ICMP连通性\n echo \"\n2. 测试Ping连通性...\"\nif ping -c 4 $TARGET_HOST > /dev/null 2>&1; then\n    echo \"Ping测试成功\"\n    ping -c 4 $TARGET_HOST | grep 'rtt'\nelse\n    echo \"Ping测试失败\"\nfi\n\n# 检查端口连通性\n echo \"\n3. 测试端口 $TARGET_PORT 连通性...\"\nif nc -z -w 5 $TARGET_HOST $TARGET_PORT; then\n    echo \"端口 $TARGET_PORT 连通成功\"\nelse\n    echo \"端口 $TARGET_PORT 连通失败\"\nfi\n\n# 检查路由\n echo \"\n4. 显示路由信息...\"\nroute -n | head -n 5\n\n echo \"======================================================\"\n"
            }
        ];
        
        // 加载并显示脚本数据
        function loadScripts() {
            const scriptsContainer = document.getElementById('scripts-container');
            try {
                
                // 清空加载状态
                scriptsContainer.innerHTML = '';
                
                // 生成脚本卡片
                scriptsData.forEach((script, index) => {
                    const card = document.createElement('div');
                    card.className = 'script-card neo-card overflow-hidden animate-fade-in';
                    card.style.animationDelay = `${index * 0.1}s`;
                    card.setAttribute('data-search', `${script.title.toLowerCase()} ${script.description.toLowerCase()}`);
                    
                    card.innerHTML = `
                        <div class="p-8">
                            <div class="flex items-center mb-6">
                                <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-primary via-accent to-secondary flex items-center justify-center mr-4 shadow-lg">
                                    <i class="fa fa-code text-white text-lg"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold gradient-text">${script.title}</h3>
                                    <div class="flex items-center mt-1">
                                        <span class="text-sm text-gray-500 dark:text-gray-400">脚本 ID: ${script.id}</span>
                                        <div class="w-2 h-2 bg-green-500 rounded-full ml-3 animate-pulse"></div>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 dark:text-gray-300 mb-8 text-lg leading-relaxed">${script.description}</p>
                            
                            <!-- Mac风格终端 -->
                            <div class="mac-terminal">
                                <div class="mac-header">
                                    <div class="mac-buttons">
                                        <div class="mac-button red"></div>
                                        <div class="mac-button yellow"></div>
                                        <div class="mac-button green"></div>
                                    </div>
                                    <div class="mac-title">script_${script.id}.sh</div>
                                    <button class="copy-btn ml-auto px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg flex items-center transition-all duration-100 hover:scale-105 shadow-lg">
                                        <i class="fa fa-copy mr-2"></i> 复制代码
                                    </button>
                                </div>
                                <div class="mac-content">
                                    <pre class="language-bash"><code>${escapeHtml(script.content)}</code></pre>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    scriptsContainer.appendChild(card);
                    
                    // 添加复制功能
                    const copyBtn = card.querySelector('.copy-btn');
                    const codeBlock = card.querySelector('code');
                    
                    copyBtn.addEventListener('click', () => {
                        const textToCopy = codeBlock.textContent;
                        navigator.clipboard.writeText(textToCopy).then(() => {
                            const originalText = copyBtn.innerHTML;
                            copyBtn.innerHTML = '<i class="fa fa-check mr-2"></i> 已复制';
                            copyBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                            copyBtn.classList.add('bg-green-600', 'hover:bg-green-700');
                            
                            setTimeout(() => {
                                copyBtn.innerHTML = originalText;
                                copyBtn.classList.remove('bg-green-600', 'hover:bg-green-700');
                                copyBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                            }, 2000);
                        });
                    });
                });
                
                // 初始化代码高亮
                Prism.highlightAll();
                
            } catch (error) {
                // 显示错误信息（理论上不会执行到这里，因为数据已内嵌）
                scriptsContainer.innerHTML = `
                    <div class="col-span-full text-center py-20">
                        <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-red-500/20 mb-6">
                            <i class="fa fa-exclamation-triangle text-red-500 text-2xl"></i>
                        </div>
                        <p class="text-xl text-gray-500 dark:text-gray-400 font-medium">
                            加载脚本失败: ${error.message}
                        </p>
                    </div>
                `;
                console.error('加载脚本时出错:', error);
            }
        }
        
        // HTML转义函数，防止代码中的特殊字符被解析
        function escapeHtml(unsafe) {
            return unsafe
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }
        
        // 搜索功能
        function setupSearch() {
            const searchInput = document.getElementById('search-input');
            
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase().trim();
                const scriptCards = document.querySelectorAll('.script-card');
                
                scriptCards.forEach(card => {
                    const cardText = card.getAttribute('data-search');
                    if (cardText.includes(searchTerm)) {
                        card.style.display = '';
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    } else {
                        card.style.opacity = '0';
                        card.style.transform = 'translateY(20px)';
                        setTimeout(() => {
                            if (card.style.opacity === '0') {
                                card.style.display = 'none';
                            }
                        }, 300);
                    }
                });
            });
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', () => {
            loadScripts();
            setupSearch();
            
            // 监听滚动事件，改变导航栏样式
            window.addEventListener('scroll', () => {
                const header = document.querySelector('header');
                if (window.scrollY > 20) {
                    header.classList.add('py-2');
                    header.classList.remove('py-4');
                } else {
                    header.classList.add('py-4');
                    header.classList.remove('py-2');
                }
            });
            
            // 添加页面加载动画
            setTimeout(() => {
                document.body.classList.add('loaded');
            }, 100);
        });
    </script>
</body>
</html>
    